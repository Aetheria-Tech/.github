# 커밋 메시지 가이드라인 (Commit Message Guidelines)

### 📝 커밋 메시지 구조 (Structure)

기본적으로 커밋 메시지는 **헤더(Header)**, **본문(Body)**, **꼬리말(Footer)** 세 부분으로 구성하며, 각 부분 사이는 빈 줄로 구분합니다.

```text
<Type>(<Scope>): <Subject>   <-- 헤더 (필수)

<Body>                        <-- 본문 (선택)

<Footer>                      <-- 꼬리말 (선택/Breaking Change 시 필수)
```

-----

### 📋 커밋 메시지 작성 규칙 (Convention Rules)

| 항목 (Component)       | 설명 (Description) | 작성 규칙 (Rules)                                                                                                             | 예시 (Example)                                                   |
|:---------------------|:-----------------|:--------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------|
| **Type**             | 커밋의 종류           | • **소문자**만 사용<br>• 아래의 [Type 키워드 리스트] 준수                                                                                  | `feat`, `fix`, `refactor`                                      |
| **Scope**            | 변경된 범위 (선택)      | • **소문자** 사용, 괄호 `()`로 감싸기<br>• 모듈명, 패키지명 등을 명시                                                                           | `(auth)`, `(ui)`, `(db)`                                       |
| **Subject**          | 제목 (요약)          | • **50자 이내**로 간결하게<br>• **명령문/현재 시제** 사용 (\~함(X), \~했음(X), \~하라/한다(O))<br>• 첫 글자 대문자는 선택 (보통 소문자)<br>• **끝에 마침표(`.`) 금지** | `add login logic`<br>`fix typo in user controller`             |
| **Body**             | 본문 (상세)          | • **무엇을, 왜** 변경했는지 설명 (How보다는 Why)<br>• 한 줄당 **72자** 내외로 줄 바꿈<br>• 제목과 구분하기 위해 한 줄 띄우고 작성                                 | `기존 로그인 방식의 보안 취약점 해결을 위해`<br>`JWT 토큰 만료 시간을 단축함.`             |
| **Breaking Changes** | 중요 변경 사항         | • API 호환성이 깨지는 경우 필수 작성<br>• 본문 또는 꼬리말 시작에 `BREAKING CHANGE:` 명시                                                          | `BREAKING CHANGE: The graph API version 1.0 has been removed.` |
| **Footer**           | 이슈 추적 (선택)       | • **이슈 트래커 ID**를 참조 (`Closes`, `Fixes` 등)<br>• Breaking Change 정보 포함 가능                                                   | `Closes #123`<br>`Fixes #45`                                   |

-----

### 🔖 Type 키워드 리스트 (Type Cheatsheet)

`Type` 란에 들어갈 수 있는 표준 키워드입니다.

| Type         | 설명 (Description) | 비고                                                       |
|:-------------|:-----------------|:---------------------------------------------------------|
| **feat**     | 새로운 기능 추가        | 사용자에게 새로운 기능을 제공할 때                                      |
| **fix**      | 버그 수정            | 사용자에게 영향을 주는 버그를 고칠 때                                    |
| **docs**     | 문서 수정            | README.md, 주석 등 코드 변화 없이 문서만 수정                          |
| **style**    | 코드 포맷팅, 세미콜론 누락  | 비즈니스 로직 변경 없음 (오타 수정, 탭 들여쓰기 등)                          |
| **refactor** | 코드 리팩토링          | 기능 변경 없이 코드 구조만 개선 (성능 개선 포함 가능)                         |
| **test**     | 테스트 코드           | 테스트 코드 추가, 수정, 삭제 (프로덕션 코드 변경 없음)                        |
| **chore**    | 기타 변경 사항         | 빌드 설정 수정, 패키지 매니저 설정 등 (소스 코드 변경 없음)                     |
| **ci**       | CI 설정 파일 수정      | GitHub Actions, Jenkins 설정 파일 변경 등                       |
| **perf**     | 성능 개선            | 기능 변경 없이 성능(Performance)만 향상시켰을 때 (예: 쿼리 튜닝, 캐싱 적용)      |
| **build**    | 빌드 시스템/의존성       | chore에서 분리. npm, gradle, dockerfile 등 빌드 도구 및 라이브러리 업데이트 |
| **revert**   | 커밋 되돌리기          | 이전 커밋을 Revert(롤백) 할 때 사용                                 |
| **security** | 보안 이슈 수정         | 치명적인 취약점 해결이나 인증 로직 강화 등 보안 관련 사항                        |

-----

### ✅ 좋은 커밋 메시지 예시 (Full Example)

**1. 기능 추가 (Feature)**

```text
feat(auth): add google social login

사용자 유입을 늘리기 위해 구글 소셜 로그인 기능을 추가함.
OAuth 2.0 기반으로 구현되었으며 기존 회원가입 로직과 통합됨.

Closes #102
```

**2. 버그 수정 (Fix)**

```text
fix(payment): handle negative value in discount logic

할인 금액이 결제 금액보다 클 경우 마이너스가 되는 현상 수정.
이제 결제 금액이 0원 미만으로 내려가지 않도록 0원으로 고정함.

Fixes #45
```

**3. 호환성 변경 (Breaking Change)**

```text
refactor(api): switch to graphQL for user data

기존 REST API의 오버페칭 문제를 해결하기 위해 GraphQL로 전환함.

BREAKING CHANGE: GET /api/v1/users 엔드포인트가 삭제되었습니다.
대신 /graphql 엔드포인트를 사용해야 합니다.
```

----

# 코드 리뷰 가이드라인 (Code Review Guidelines)

우리의 코드 리뷰는 **"결함을 찾는 과정"이 아니라 "더 나은 코드를 함께 만드는 과정"**입니다.
서로의 성장을 돕고, 심리적으로 안전한 환경에서 최고의 소프트웨어를 만들기 위해 아래의 가이드를 따릅니다.

---

### 1. 💬 리뷰어의 에티켓 (For Reviewers)

리뷰어는 코드를 검토하는 사람이지, 작성자를 평가하는 사람이 아닙니다.

#### 1) "코드"와 "사람"을 분리하세요

* ❌ "너가 코드를 이렇게 짜서 에러가 나잖아." (작성자 비난)
* ⭕ "**이 코드는** null이 들어올 경우 에러가 발생할 가능성이 있습니다." (코드 객관화)

#### 2) 명령보다는 '제안'과 '질문'을 사용하세요

* ❌ "이 변수명 바꿔."
* ⭕ "이 변수명은 역할이 잘 드러나지 않는 것 같은데, `userList`로 변경하는 건 어떨까요?"
* ⭕ "여기서 for문을 사용하신 특별한 의도가 있으신가요?"

#### 3) 칭찬에 인색하지 마세요

* 좋은 코드나 기발한 해결책을 보면 적극적으로 칭찬해 주세요. 리뷰는 지적만을 위한 시간이 아닙니다.
* "이 부분 로직 처리가 정말 깔끔하네요! 👍"

#### 4) 해결책을 함께 고민해 주세요

* 문제만 지적하고 끝내기보다, 가능한 대안을 함께 제시하거나 참고할 레퍼런스 링크를 남겨주세요.

---

### 2. 📝 작성자의 에티켓 (For Authors)

나의 코드는 곧 '나' 자신이 아닙니다. 리뷰를 방어적으로 받아들이지 마세요.

#### 1) 리뷰어를 위한 '친절한 설명'을 남겨주세요

* PR 본문에 **"무엇을", "왜", "어떻게"** 고쳤는지 명확히 적어주세요.
* UI 변경이 있다면 **스크린샷이나 GIF**를 첨부하는 것은 센스 있는 개발자의 기본입니다.

#### 2) 오픈 마인드를 가지세요

* 리뷰어의 코멘트는 공격이 아닙니다. 의견이 다르다면 논리적으로 토론하되, 감정적으로 대응하지 마세요.

#### 3) 자신의 PR에 먼저 코멘트를 남기세요 (Self-Review)

* 리뷰어가 헷갈릴 것 같은 부분이나, 고민했던 지점에 미리 코멘트를 달아두면 리뷰 시간이 절반으로 줄어듭니다.

---

### 3. 🏷️ 커뮤니케이션 규칙 (Labeling)

리뷰의 중요도와 뉘앙스를 명확히 하기 위해, 코멘트 앞에 말머리(Prefix)를 붙여주세요.

| 말머리         | 의미                         | 설명                                                       |
|:------------|:---------------------------|:---------------------------------------------------------|
| **[MUST]**  | **꼭 고쳐주세요**                | 로직 오류, 보안 취약점, 컨벤션 위반 등. 이 부분이 해결되지 않으면 Approve 하지 않습니다. |
| **[SUGG]**  | **제안합니다** (Suggestion)     | 더 나은 방법이 있다고 생각하지만, 작성자의 의견을 존중합니다. 반영하지 않아도 무방합니다. (선택) |
| **[QUEST]** | **궁금합니다** (Question)       | 코드가 이해되지 않거나 의도가 궁금해서 물어보는 것입니다. (수정 요청 아님)              |
| **[NIT]**   | **사소한 지적** (Nitpick)       | 오타, 띄어쓰기, 줄바꿈 등 아주 사소한 수정 요청입니다.                         |
| **[IMO]**   | **제 생각에는** (In My Opinion) | 순수하게 개인적인 취향이나 의견입니다. 무시해도 됩니다.                          |

---

### 4. 🔍 중점 리뷰 항목 (Checklist)

리뷰어는 다음 순서대로 중요도를 두어 코드를 검토합니다.

1. **기능 및 동작 (Functionality):** 코드가 의도한 대로 작동하는가? 버그 가능성은 없는가?
2. **보안 (Security):** SQL Injection, XSS 등 보안 취약점은 없는가?
3. **가독성 (Readability):** 다른 팀원이 읽었을 때 이해하기 쉬운가?
4. **아키텍처 (Architecture):** 기존 설계 원칙을 위반하지 않는가? (의존성, 모듈 분리 등)
5. **테스트 (Tests):** 적절한 테스트 코드가 포함되었는가?
6. **컨벤션 (Convention):** 네이밍, 폴더 구조 등 팀의 규칙을 따르는가?
    * *참고: 단순 포맷팅(들여쓰기 등)은 사람이 보지 말고 `Linter/Formatter`에게 맡깁시다.*

---

### 5. ⏱️ 골든 타임 (Review Latency)

* **24시간 이내**에 리뷰하는 것을 목표로 합니다.
* 리뷰가 늦어지면 다른 팀원의 작업이 블로킹됩니다. 내 코딩보다 동료의 리뷰를 우선순위에 두세요.
* 리뷰할 시간이 도저히 안 난다면, "지금 바빠서 내일 오전까지 봐드릴게요"라고 미리 코멘트를 남겨주세요.